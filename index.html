<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>keinest — Portfolio</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="site-header">
    <div class="container">
      <a class="logo" href="/">keinest</a>
      <button class="menu-toggle" aria-label="Toggle menu">☰</button>
      <nav class="nav" aria-label="Navigation principale">
        <ul>
          <li><a href="#about">À propos</a></li>
          <li><a href="#projects">Projets</a></li>
          <li><a href="#skills">Compétences</a></li>
          <li><a href="#contact">Contact</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main>
    <section id="hero" class="hero">
      <div class="container hero-grid">
        <div class="hero-content">
          <h1>Créer des produits numériques clairs et robustes</h1>
          <p class="lede">Designer & développeur front‑end — j'aide les équipes à transformer des idées en expériences web utiles, accessibles et rapides.</p>
          <p class="cta"><a href="https://github.com/keinest" class="btn" target="_blank" rel="noopener noreferrer">Mes projets</a> <a href="#contact" class="btn btn-outline">Me contacter</a></p>
        </div>
        <div class="hero-media">
          <img src="1.png" alt="Aperçu de projet" class="hero-image">
        </div>
      </div>
    </section>

    <section id="about" class="section container">
      <h2>À propos</h2>
      <p>Je suis keinest — je conçois et développe des interfaces web modernes, centrées sur l'utilisateur. J'attache une grande importance à l'accessibilité, à la performance et à la simplicité.</p>
    </section>

    <section id="projects" class="section container">
      <h2>Projets récents</h2>
      <div id="projects-list" class="projects-grid" aria-live="polite">
        <!-- Les projets seront chargés dynamiquement depuis GitHub -->
      </div>
    </section>

    <section id="skills" class="section container">
      <h2>Compétences</h2>
      <ul class="skills">
        <li>Design d'interface</li>
        <li>HTML / CSS modernes</li>
        <li>JavaScript / React</li>
        <li>Accessibilité (a11y)</li>
        <li>Optimisation des performances</li>
      </ul>
    </section>

    <section id="contact" class="section container">
      <h2>Contact</h2>
      <p>Envoyez un message via : <a href="mailto:keinest@example.com">keinest@example.com</a> ou retrouvez-moi sur <a href="https://github.com/keinest">GitHub</a>.</p>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <p>© 2025 keinest · Site professionnel</p>
    </div>
  </footer>

  <script>
    // Menu toggle accessible
    const toggle = document.querySelector('.menu-toggle');
    const nav = document.querySelector('.nav');

    toggle.addEventListener('click', () => {
      const open = nav.classList.toggle('open');
      toggle.setAttribute('aria-expanded', open);
    });

    // Fermer le menu quand on clique sur un lien (mobile)
    document.querySelectorAll('.nav a').forEach(a => {
      a.addEventListener('click', () => nav.classList.remove('open'));
    });

    // Charger les repos GitHub de l'utilisateur et afficher comme projets
    async function loadRepos() {
      const username = 'keinest';
      const container = document.getElementById('projects-list');
      container.innerHTML = '<p>Chargement des projets…</p>';

      try {
        const res = await fetch(`https://api.github.com/users/${username}/repos?per_page=100&sort=updated`);
        if (!res.ok) throw new Error('GitHub API error ' + res.status);
        const repos = await res.json();

        // Filtrer: exclure forks et les repo vides
        const filtered = repos.filter(r => !r.fork && (r.description || r.homepage || r.language));
        if (filtered.length === 0) {
          container.innerHTML = '<p>Aucun projet public trouvé.</p>';
          return;
        }

        container.innerHTML = '';
        filtered.forEach(r => {
          const el = document.createElement('article');
          el.className = 'project-card';

          const img = document.createElement('img');
          // Placeholder image: utiliser 2.png/3.png si disponibles, sinon une couleur
          img.src = '2.png';
          img.alt = r.name + ' — aperçu';

          const body = document.createElement('div');
          body.className = 'card-body';

          const h3 = document.createElement('h3');
          h3.textContent = r.name;

          const p = document.createElement('p');
          p.textContent = r.description || (r.language ? ('Langage: '+r.language) : 'Projet GitHub');

          const links = document.createElement('p');
          const repoLink = document.createElement('a');
          repoLink.href = r.html_url;
          repoLink.textContent = 'Code';
          repoLink.className = 'card-link';
          repoLink.target = '_blank';
          repoLink.rel = 'noopener noreferrer';

          links.appendChild(repoLink);

          if (r.homepage) {
            const sep = document.createTextNode(' · ');
            const live = document.createElement('a');
            live.href = r.homepage;
            live.textContent = 'Live';
            live.className = 'card-link';
            live.target = '_blank';
            live.rel = 'noopener noreferrer';
            links.appendChild(sep);
            links.appendChild(live);
          }

          body.appendChild(h3);
          body.appendChild(p);
          body.appendChild(links);

          el.appendChild(img);
          el.appendChild(body);

          container.appendChild(el);
        });
      } catch (err) {
        console.error(err);
        container.innerHTML = '<p>Impossible de charger les projets depuis GitHub. Vérifiez votre connexion ou réessayez plus tard.</p>';
      }
    }

    // Lancer au chargement
    loadRepos();
  </script>
</body>
</html>